<!DOCTYPE html>  
<html>  
<head>  
    <meta charset="UTF-8">  
    <title>Insert title here</title>  
<style type="text/css">  
    .box1 {  
        border: green 40px solid;  
        width: 300px;  
        height: 300px;  
        margin: auto;  
    }  
      
    .box2 {  
        border: yellow 40px solid;  
        width: 220px;  
        height: 220px;  
        margin: auto;  
    }  
      
    span {  
        position: relative;  
        left: 50px;  
        top: 50px;  
        background-color: rgba(128, 128, 128, 0.22);  
    }  
</style>  
  
<script type="text/javascript">  
    window.onload = function() {  
        document.getElementById("body").addEventListener("click",eventHandler);  
// 方法三
        // document.getElementById('body').addEventListener('click',eventPerformed);
// 方法一
        /*document.getElementById("box1").addEventListener("click",function(event){  
            alert("您好，我是最外层div。");
            event.stopPropagation();  
        });  
        document.getElementById("box2").addEventListener("click",function(event){  
            alert("您好，我是第二层div。");  
            event.stopPropagation();
        });  
        document.getElementById("span").addEventListener("click",function(event){  
            alert("您好，我是span。");  
            event.stopPropagation();
        });*/

// 方法二
       /* document.getElementById('box1').addEventListener('click',function(e){
            if(e.target == e.currentTarget){
                alert("您好，我是最外层div。");
            }
        });
        document.getElementById('box2').addEventListener('click',function(e){
            if(e.target == e.currentTarget){
                alert("您好，我是2层div。");
            }
        });
        document.getElementById('span').addEventListener('click',function(e){
            if(e.target == e.currentTarget){
                alert("您好，我是span。");
            }
        });*/

    }  
    function eventPerformed(e){
        var target = e.target;
        switch(target.id){
            case 'span':alert("您好，我是span。");
                        break;
            case 'box1':alert("您好，我是最外层div。");
                        break;      
            case 'box2':alert("您好，我是第二层div。");
                        break;
        }
    }
    function eventHandler(event) {  
        console.log("时间："+new Date(event.timeStamp)+" 产生事件的节点：" + event.target.id +"  当前节点："+event.currentTarget.id);  
    }  
</script>  
  
</head>  
<body id="body">  
    <div id="box1" class="box1">  
        <div id="box2" class="box2">  
            <span id="span">This is a span.</span>  
        </div>  
    </div>  
</body>  
</html>